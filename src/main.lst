     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_init_pit
    10 00000000                                 	EXTERN	_fifo32_init
    11 00000000                                 	EXTERN	_init_keyboard
    12 00000000                                 	EXTERN	_enable_mouse
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_init_mem
    15 00000000                                 	EXTERN	_init_palette
    16 00000000                                 	EXTERN	_bootInfo
    17 00000000                                 	EXTERN	_init_screen
    18 00000000                                 	EXTERN	_timer_alloc
    19 00000000                                 	EXTERN	_timer_init
    20 00000000                                 	EXTERN	_timer_settime
    21 00000000                                 	EXTERN	_putStr
    22 00000000                                 	EXTERN	_fifo32_status
    23 00000000                                 	EXTERN	_fifo32_get
    24 00000000                                 	EXTERN	_boxfill
    25 00000000                                 	EXTERN	_sprintf
    26 00000000                                 [FILE "main.c"]
    27                                          [SECTION .data]
    28 00000000                                 LC1:
    29 00000000 35 73 65 63 00                  	DB	"5sec",0x00
    30 00000005                                 LC0:
    31 00000005 65 3A 25 64 00                  	DB	"e:%d",0x00
    32                                          [SECTION .text]
    33 00000000                                 	GLOBAL	_HariMain
    34 00000000                                 _HariMain:
    35 00000000 55                              	PUSH	EBP
    36 00000001 89 E5                           	MOV	EBP,ESP
    37 00000003 56                              	PUSH	ESI
    38 00000004 53                              	PUSH	EBX
    39 00000005 81 EC 00000230                  	SUB	ESP,560
    40 0000000B 8D 5D D8                        	LEA	EBX,DWORD [-40+EBP]
    41 0000000E E8 [00000000]                   	CALL	_init_gdtidt
    42 00000013 E8 [00000000]                   	CALL	_init_pic
    43 00000018 E8 [00000000]                   	CALL	_io_sti
    44 0000001D E8 [00000000]                   	CALL	_init_pit
    45 00000022 8D 85 FFFFFDD8                  	LEA	EAX,DWORD [-552+EBP]
    46 00000028 50                              	PUSH	EAX
    47 00000029 68 00000080                     	PUSH	128
    48 0000002E 53                              	PUSH	EBX
    49 0000002F E8 [00000000]                   	CALL	_fifo32_init
    50 00000034 68 00000100                     	PUSH	256
    51 00000039 53                              	PUSH	EBX
    52 0000003A E8 [00000000]                   	CALL	_init_keyboard
    53 0000003F 68 00000200                     	PUSH	512
    54 00000044 53                              	PUSH	EBX
    55 00000045 E8 [00000000]                   	CALL	_enable_mouse
    56 0000004A 68 000000F8                     	PUSH	248
    57 0000004F 6A 21                           	PUSH	33
    58 00000051 89 1D [00000020]                	MOV	DWORD [_dataStream],EBX
    59 00000057 E8 [00000000]                   	CALL	_io_out8
    60 0000005C 83 C4 24                        	ADD	ESP,36
    61 0000005F 68 000000EF                     	PUSH	239
    62 00000064 68 000000A1                     	PUSH	161
    63 00000069 E8 [00000000]                   	CALL	_io_out8
    64 0000006E E8 [00000000]                   	CALL	_init_mem
    65 00000073 E8 [00000000]                   	CALL	_init_palette
    66 00000078 8B 15 [00000000]                	MOV	EDX,DWORD [_bootInfo]
    67 0000007E 0F BF 42 06                     	MOVSX	EAX,WORD [6+EDX]
    68 00000082 50                              	PUSH	EAX
    69 00000083 0F BF 42 04                     	MOVSX	EAX,WORD [4+EDX]
    70 00000087 50                              	PUSH	EAX
    71 00000088 FF 72 08                        	PUSH	DWORD [8+EDX]
    72 0000008B E8 [00000000]                   	CALL	_init_screen
    73 00000090 E8 [00000000]                   	CALL	_timer_alloc
    74 00000095 6A 0A                           	PUSH	10
    75 00000097 53                              	PUSH	EBX
    76 00000098 89 C6                           	MOV	ESI,EAX
    77 0000009A 50                              	PUSH	EAX
    78 0000009B E8 [00000000]                   	CALL	_timer_init
    79 000000A0 83 C4 20                        	ADD	ESP,32
    80 000000A3 68 000003E8                     	PUSH	1000
    81 000000A8 56                              	PUSH	ESI
    82 000000A9 E8 [00000000]                   	CALL	_timer_settime
    83 000000AE E8 [00000000]                   	CALL	_timer_alloc
    84 000000B3 6A 03                           	PUSH	3
    85 000000B5 53                              	PUSH	EBX
    86 000000B6 89 C6                           	MOV	ESI,EAX
    87 000000B8 50                              	PUSH	EAX
    88 000000B9 E8 [00000000]                   	CALL	_timer_init
    89 000000BE 68 0000012C                     	PUSH	300
    90 000000C3 56                              	PUSH	ESI
    91 000000C4 E8 [00000000]                   	CALL	_timer_settime
    92 000000C9 E8 [00000000]                   	CALL	_timer_alloc
    93 000000CE 6A 01                           	PUSH	1
    94 000000D0 53                              	PUSH	EBX
    95 000000D1 89 C6                           	MOV	ESI,EAX
    96 000000D3 50                              	PUSH	EAX
    97 000000D4 E8 [00000000]                   	CALL	_timer_init
    98 000000D9 83 C4 28                        	ADD	ESP,40
    99 000000DC 68 000001F4                     	PUSH	500
   100 000000E1 56                              	PUSH	ESI
   101 000000E2 E8 [00000000]                   	CALL	_timer_settime
   102 000000E7 8B 15 [00000000]                	MOV	EDX,DWORD [_bootInfo]
   103 000000ED 8D 85 FFFFFDC8                  	LEA	EAX,DWORD [-568+EBP]
   104 000000F3 50                              	PUSH	EAX
   105 000000F4 6A 00                           	PUSH	0
   106 000000F6 6A 00                           	PUSH	0
   107 000000F8 6A 00                           	PUSH	0
   108 000000FA 0F BF 42 04                     	MOVSX	EAX,WORD [4+EDX]
   109 000000FE 50                              	PUSH	EAX
   110 000000FF FF 72 08                        	PUSH	DWORD [8+EDX]
   111 00000102 E8 [00000000]                   	CALL	_putStr
   112 00000107 83 C4 20                        	ADD	ESP,32
   113 0000010A                                 L2:
   114 0000010A FF 35 [00000020]                	PUSH	DWORD [_dataStream]
   115 00000110 E8 [00000000]                   	CALL	_fifo32_status
   116 00000115 5A                              	POP	EDX
   117 00000116 85 C0                           	TEST	EAX,EAX
   118 00000118 74 F0                           	JE	L2
   119 0000011A FF 35 [00000020]                	PUSH	DWORD [_dataStream]
   120 00000120 E8 [00000000]                   	CALL	_fifo32_get
   121 00000125 89 C3                           	MOV	EBX,EAX
   122 00000127 58                              	POP	EAX
   123 00000128 83 FB 64                        	CMP	EBX,100
   124 0000012B 7F 43                           	JG	L9
   125 0000012D 4B                              	DEC	EBX
   126 0000012E 75 DA                           	JNE	L2
   127 00000130 6A 32                           	PUSH	50
   128 00000132 8B 15 [00000000]                	MOV	EDX,DWORD [_bootInfo]
   129 00000138 6A 64                           	PUSH	100
   130 0000013A 6A 28                           	PUSH	40
   131 0000013C 6A 32                           	PUSH	50
   132 0000013E 6A 0E                           	PUSH	14
   133 00000140 0F BF 42 04                     	MOVSX	EAX,WORD [4+EDX]
   134 00000144 50                              	PUSH	EAX
   135 00000145 FF 72 08                        	PUSH	DWORD [8+EDX]
   136 00000148 E8 [00000000]                   	CALL	_boxfill
   137 0000014D 8B 15 [00000000]                	MOV	EDX,DWORD [_bootInfo]
   138 00000153 68 [00000000]                   	PUSH	LC1
   139 00000158 6A 00                           	PUSH	0
   140 0000015A 6A 28                           	PUSH	40
   141 0000015C 6A 32                           	PUSH	50
   142 0000015E 0F BF 42 04                     	MOVSX	EAX,WORD [4+EDX]
   143 00000162 50                              	PUSH	EAX
   144 00000163 FF 72 08                        	PUSH	DWORD [8+EDX]
   145 00000166 E8 [00000000]                   	CALL	_putStr
   146 0000016B 83 C4 34                        	ADD	ESP,52
   147 0000016E EB 9A                           	JMP	L2
   148 00000170                                 L9:
   149 00000170 6A 32                           	PUSH	50
   150 00000172 8B 15 [00000000]                	MOV	EDX,DWORD [_bootInfo]
   151 00000178 6A 64                           	PUSH	100
   152 0000017A 6A 1E                           	PUSH	30
   153 0000017C 6A 14                           	PUSH	20
   154 0000017E 6A 0E                           	PUSH	14
   155 00000180 0F BF 42 04                     	MOVSX	EAX,WORD [4+EDX]
   156 00000184 50                              	PUSH	EAX
   157 00000185 FF 72 08                        	PUSH	DWORD [8+EDX]
   158 00000188 E8 [00000000]                   	CALL	_boxfill
   159 0000018D 53                              	PUSH	EBX
   160 0000018E 68 [00000005]                   	PUSH	LC0
   161 00000193 8D 9D FFFFFDC8                  	LEA	EBX,DWORD [-568+EBP]
   162 00000199 53                              	PUSH	EBX
   163 0000019A E8 [00000000]                   	CALL	_sprintf
   164 0000019F 8B 15 [00000000]                	MOV	EDX,DWORD [_bootInfo]
   165 000001A5 83 C4 28                        	ADD	ESP,40
   166 000001A8 53                              	PUSH	EBX
   167 000001A9 6A 00                           	PUSH	0
   168 000001AB 6A 1E                           	PUSH	30
   169 000001AD 6A 14                           	PUSH	20
   170 000001AF 0F BF 42 04                     	MOVSX	EAX,WORD [4+EDX]
   171 000001B3 50                              	PUSH	EAX
   172 000001B4 FF 72 08                        	PUSH	DWORD [8+EDX]
   173 000001B7 E8 [00000000]                   	CALL	_putStr
   174 000001BC 83 C4 18                        	ADD	ESP,24
   175 000001BF E9 FFFFFF46                     	JMP	L2
   176 000001C4                                 	GLOBAL	_mdec
   177                                          [SECTION .data]
   178 0000000A 00 00 00 00 00 00               	ALIGNB	16
   179 00000010                                 _mdec:
   180 00000010 00 00 00 00 00 00 00 00 00 00   	RESB	16
       0000001A 00 00 00 00 00 00 
   181 00000020                                 	GLOBAL	_dataStream
   182                                          [SECTION .data]
   183 00000020                                 	ALIGNB	4
   184 00000020                                 _dataStream:
   185 00000020 00 00 00 00                     	RESB	4
